{"version":3,"sources":["components/Persons.js","components/Filter.js","components/PersonForm.js","services/person.js","components/notification.js","App.js","index.js"],"names":["Persons","persons","deleteName","map","person","name","number","onClick","id","Filter","value","onChange","PersonForm","addName","newName","newNumber","handleNameChange","handleNumberChange","onSubmit","type","baseUrl","axios","get","newObject","post","put","delete","Notification","message","className","App","useState","setPersons","setNewName","setNewNumber","filterValue","setFilterValue","errorMessage","setErrorMessage","useEffect","then","response","tempPersons","data","console","log","personToShow","filter","toLowerCase","includes","event","target","preventDefault","nameMatch","trim","length","newPerson","personService","concat","catch","error","window","confirm","tempPerson","personId","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.b04cb029.chunk.js","sourcesContent":["import React from 'react'\n\nconst Persons = ({persons, deleteName }) => {\n    return (\n        <div>\n            {persons.map(person => <li key={person.id}>{person.name}    {person.number}<button onClick={() => deleteName(person)}> Delete</button></li>)}\n        </div>\n    )\n}\n\nexport default Persons","import React from 'react'\n\nconst Filter = ({value, onChange}) => {\n    return (\n        <div>filter shown with <input value={value} onChange={onChange}/> </div>\n    )\n}\n\nexport default Filter","import React from 'react'\n\nconst PersonForm = ({ addName, newName, newNumber, handleNameChange, handleNumberChange }) => {\n    return (\n        <form onSubmit={addName}>\n            <div> name: <input value={newName} onChange={handleNameChange}/></div>\n            <div> number: <input value={newNumber} onChange={handleNumberChange}/></div>\n            <div>\n                <button type=\"submit\">add</button>\n            </div>\n        </form>\n    )\n}\n\nexport default PersonForm","import axios from \"axios\";\n\nconst baseUrl = \"/api/persons\";\n\nconst getAll = () => {\n  return axios.get(baseUrl);\n};\n\nconst create = (newObject) => {\n  return axios.post(baseUrl, newObject);\n};\n\nconst update = (id, newObject) => {\n  return axios.put(`${baseUrl}/${id}`, newObject);\n};\n\nconst remove = (id) => {\n  return axios.delete(`${baseUrl}/${id}`);\n};\n\nexport default { getAll, create, update, remove };\n","import React from 'react' \n\nconst Notification = ({ message }) => {\n    if (message === null) {\n        return null\n    }\n    return (\n        <div className='error'>\n            {message}\n        </div>\n    )\n}\n\nexport default Notification","import React, { useState, useEffect } from \"react\";\nimport Persons from \"./components/Persons\";\nimport Filter from \"./components/Filter\";\nimport PersonForm from \"./components/PersonForm\";\nimport axios from \"axios\";\nimport personService from \"./services/person\";\nimport Notification from \"./components/notification\";\n\nconst App = () => {\n  const [persons, setPersons] = useState([]);\n  const [newName, setNewName] = useState(\"\");\n  const [newNumber, setNewNumber] = useState(\"\");\n  const [filterValue, setFilterValue] = useState(\"\");\n  const [errorMessage, setErrorMessage] = useState(\"Error: \");\n\n  useEffect(() => {\n    axios.get(\"/api/persons\").then((response) => {\n      const tempPersons = response.data;\n      console.log(tempPersons);\n      setPersons(tempPersons);\n    });\n  }, []);\n\n  const addName = (event) => {\n    event.preventDefault();\n\n    let nameMatch = persons.filter((person) => person.name === newName.trim());\n\n    console.log(nameMatch);\n    if (nameMatch.length === 0) {\n      const newPerson = {\n        name: newName.trim(),\n        number: newNumber,\n        id: persons.length + 1,\n      };\n      console.log(newPerson);\n      // setPersons(persons.concat(newPerson))\n\n      personService\n        .create(newPerson)\n        .then((response) => {\n          setPersons(persons.concat(response.data));\n          setErrorMessage(\n            `${newPerson.name} was successfully added to the server`\n          );\n        })\n        .catch((error) => {\n          setErrorMessage(`Could not add ${newPerson.name} to server`);\n        });\n    } else {\n      // alert(`${newName} is already added to the phonebook`)\n      if (\n        window.confirm(\n          `${newName} is already added to the phonebook, replace the old number with a new one`\n        )\n      ) {\n        const newPerson = { ...nameMatch[0], number: newNumber };\n        personService\n          .update(nameMatch[0].id, newPerson)\n          .then((response) => {\n            personService.getAll().then((response) => {\n              const tempPerson = response.data;\n              setPersons(tempPerson);\n              setErrorMessage(`Updated user ${newPerson.name} on server`);\n            });\n          })\n          .catch((error) => {\n            setErrorMessage(\n              `Could not update user ${newPerson.name} on server`\n            );\n          });\n      }\n    }\n    setNewName(\"\");\n    setNewNumber(\"\");\n  };\n\n  const deleteName = (person) => {\n    if (window.confirm(`Delete ${person.name}?`)) {\n      const personId = person.id;\n\n      personService\n        .remove(personId)\n        .then((response) => {\n          personService.getAll().then((response) => {\n            const tempPerson = response.data;\n            setPersons(tempPerson);\n          });\n        })\n        .catch((error) => {\n          setErrorMessage(`${person} could not be removed from server`);\n        });\n    }\n  };\n\n  const handleNameChange = (event) => {\n    setNewName(event.target.value);\n  };\n\n  const handleNumberChange = (event) => {\n    setNewNumber(event.target.value);\n  };\n\n  const handleFilterValueChange = (event) => {\n    setFilterValue(event.target.value);\n  };\n\n  const personToShow =\n    filterValue === \"\"\n      ? persons\n      : persons.filter((person) =>\n          person.name.toLowerCase().includes(filterValue.toLowerCase())\n        );\n\n  return (\n    <div>\n      <Notification message={errorMessage} />\n      <h2>Phonebook</h2>\n      <Filter value={filterValue} onChange={handleFilterValueChange} />\n      <h2>Add a new</h2>\n      <PersonForm\n        addName={addName}\n        newName={newName}\n        handleNameChange={handleNameChange}\n        newNumber={newNumber}\n        handleNumberChange={handleNumberChange}\n      />\n      <h2>Numbers</h2>\n      <Persons persons={personToShow} deleteName={deleteName} />\n    </div>\n  );\n};\n\nexport default App;\n","import ReactDOM from 'react-dom';\nimport App from './App';\nimport './index.css'\n\n\nReactDOM.render(\n  <App />,\n  document.getElementById('root')\n)\n"],"sourceRoot":""}